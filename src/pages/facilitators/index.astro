---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import FacilitatorCard from "../../components/FacilitatorCard.astro";
import { db, Facilitators } from "astro:db";

import { FacilitatorGrid } from "../../components/FacilitatorGrid.tsx";

const facilitators = await db
  .select()
  .from(Facilitators)
  .orderBy(Facilitators.lastName);
---

<Layout title="Facilitators">
  <Header />
  <div class="w-full mx-auto">
    <div
      class="pt-38 px-10 pb-18 bg-linear-to-br from-warm-green to-cool-green"
    >
      <p class="text-center text-white text-3xl lg:text-5xl manrope-bold">
        Facilitator Directory
      </p>
    </div>
  </div>
  <div class="container mx-auto w-full pt-8 pb-0">
    <p class="text-center text-gray-600">
      There are {facilitators.length} facilitators in the directory.
    </p>
  </div>

  <div
    id="cardsContainer"
    class="md:hidden container mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 pt-4 pb-16"
  >
    {
      facilitators.map((facilitator: any) => (
        <FacilitatorCard facilitator={facilitator} />
      ))
    }
  </div>
  <div id="gridContainer" class="hidden md:block lg:mx-8 mx-2 pt-8 pb-16">
    <FacilitatorGrid facilitatorList={facilitators} />
  </div>
  <Footer />
</Layout>
